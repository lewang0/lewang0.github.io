<!DOCTYPE html>
<html lang="en">
  <head>
    
      <title>
        blogjava ::
        小碼哥
      </title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta
  name="description"
  content=""
/>
<meta
  name="keywords"
  content=""
/>
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://lewang.dev/tags/blogjava/" />







<link rel="stylesheet" href="/css/style.css" />

<link rel="stylesheet" href="https://lewang.dev/style.css" />


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://lewang.dev/img/apple-touch-icon-144-precomposed.png" />
<link rel="shortcut icon" href="https://lewang.dev/img/favicon.png" />


<link href="/fonts/Inter-Italic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/fonts/Inter-Regular.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/fonts/Inter-Medium.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/fonts/Inter-MediumItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/fonts/Inter-Bold.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/fonts/Inter-BoldItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">


<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://lewang.dev/lewangdev-cover.png"/>

<meta name="twitter:title" content="blogjava"/>
<meta name="twitter:description" content="我是小码哥，时常会分享一些关于创业/产品/Web开发/效率/DevOps/玩等方面的东西"/>



<meta property="og:title" content="blogjava" />
<meta property="og:description" content="我是小码哥，时常会分享一些关于创业/产品/Web开发/效率/DevOps/玩等方面的东西" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://lewang.dev/tags/blogjava/" /><meta property="og:image" content="https://lewang.dev/lewangdev-cover.png"/>



<link rel="alternate" type="application/rss+xml" href="/tags/blogjava/index.xml" title="小碼哥" />



  </head>
  <body class="auto-theme">
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a
  href="https://lewang.dev"
  class="logo"
  style="text-decoration: none;"
>
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367" />
</svg>
</span>
    <span class="logo__text"
      >小碼哥</span
    >
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/tags/">Tags</a></li>
        
      
        
          <li><a href="/about/">About</a></li>
        
      
    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/tags/">Tags</a></li>
      
    
      
        <li><a href="/about/">About</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none" />
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg
  class="theme-toggler"
  width="24"
  height="24"
  viewBox="0 0 48 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"
  />
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  <div class="posts">
    
      <article class="post on-list">
        <h1 class="post-title"><a href="https://lewang.dev/posts/2012-11-13-about_openlayers/">关于openlayers的一些说明</a></h1>
        <div class="post-meta">
          
            <time class="post-date">
              2012-11-13
            </time>

            
              



            
          
          
            <span class="post-author"
              >— Written by Le</span
            >


          
            <span class="post-read-time"
              >— 1 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="https://lewang.dev/tags/blogjava/">#blogjava</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            
          
        </div>
        
          <div>
            <a class="read-more button" href="/posts/2012-11-13-about_openlayers/"
              >Read more →</a
            >
          </div>
        
      </article>
    
      <article class="post on-list">
        <h1 class="post-title"><a href="https://lewang.dev/posts/2012-11-06-how_to_use_gdb_to_find_the_kernel_source_code/">使用gdb根据指令地址定位到C代码对应的行</a></h1>
        <div class="post-meta">
          
            <time class="post-date">
              2012-11-06
            </time>

            
              



            
          
          
            <span class="post-author"
              >— Written by Le</span
            >


          
            <span class="post-read-time"
              >— 1 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="https://lewang.dev/tags/blogjava/">#blogjava</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            
              最近做一些Kernel方面的工作，从一头雾水开始，多做些记录吧。
addr2line也可以根据指令地址定位C代码对应的行，但是对于Kernel module却不是很方便，使用gdb就要容易得多。
NOTE：在使用gdb定位C代码之前需要开启-g选项编译内核或者module
例如有这样的Call Trace
Call Trace:
[&lt;8033265c&gt;] dump_stack+0x8/0x30
[&lt;8003abbc&gt;] warn_slowpath_common+0x70/0x98
[&lt;80041f10&gt;] local_bh_enable_ip+0x98/0xec
[] ieee80211_alloc_node+0x29c/0x47c [umac]
[] ieee80211_reset_bss+0x58/0x154 [umac]
[] ieee80211_vap_attach+0x20/0x68 [umac]
[] ath_vap_create+0x430/0x6b0 [umac]
[] wlan_vap_create+0x58/0x210 [umac]
[] osif_ioctl_create_vap+0x268/0x790 [umac]
[] ath_ioctl+0x134/0x94c [umac]
[&lt;8022db50&gt;] dev_ioctl+0x28c/0x88
现在想定位指令：
[&lt;80041f10&gt;] local_bh_enable_ip+0x98/0xec
可以这样做：
$ mips-linux-gdb vmlinux
GNU gdb 6.8
Copyright (coffee) 2008 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later http://gnu.org/licenses/gpl.html
This is free software: you are free to change and redistribute it.
            
          
        </div>
        
          <div>
            <a class="read-more button" href="/posts/2012-11-06-how_to_use_gdb_to_find_the_kernel_source_code/"
              >Read more →</a
            >
          </div>
        
      </article>
    
      <article class="post on-list">
        <h1 class="post-title"><a href="https://lewang.dev/posts/2012-11-06-quick_makefile/">几个简单的Makefile</a></h1>
        <div class="post-meta">
          
            <time class="post-date">
              2012-11-06
            </time>

            
              



            
          
          
            <span class="post-author"
              >— Written by Le</span
            >


          
            <span class="post-read-time"
              >— 2 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="https://lewang.dev/tags/blogjava/">#blogjava</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            
              几个简单适合小程序的Makefile，可直接拷贝使用，自己mark一下，这样长时间不用Makefile也不用去看手册了
0.只有一个文件
变量的定义，方便使用 # CC = gcc
CCFLAGS = -O2 -s
BIN = test
OBJ = root_password_tool_win32.o
$(BIN) : $(OBJ)
$(CC) $(CCFLAGS) -o test $(OBJ)
$(OBJ) : root_password_tool_win32.c
$(CC) $(CCFLAGS) -c root_password_tool_win32.c
.PHONY : clean
clean :
-rm $(BIN) $(OBJ)
1.简单编译命令行程序，$(CC)前面是tab，不是space
一共五个文件：
test.c
md5.c md5.h
password.c password.h
main函数在test.c中，test.c文件include了md5.h和password.h
CC = gcc
CCFLAGS = -O2 -s
BIN = password
OBJ = md5.o password.o test.o
$(BIN) : $(OBJ)
$(CC) $(CCFLAGS) -o password $(OBJ)
            
          
        </div>
        
          <div>
            <a class="read-more button" href="/posts/2012-11-06-quick_makefile/"
              >Read more →</a
            >
          </div>
        
      </article>
    
      <article class="post on-list">
        <h1 class="post-title"><a href="https://lewang.dev/posts/2012-10-18-bandwidthlimiter/">Java程序如何限速(控制下载和上传速度)</a></h1>
        <div class="post-meta">
          
            <time class="post-date">
              2012-10-18
            </time>

            
              



            
          
          
            <span class="post-author"
              >— Written by Le</span
            >


          
            <span class="post-read-time"
              >— 4 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="https://lewang.dev/tags/blogjava/">#blogjava</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            
              好久没有在这里写点东西了，要养成书写记录的习惯。
这里简单的讨论一下java设计网络程序中如何控制上传和下载速度，我们常见的FTP，HTTP，BT等协议都是TCP的，但是现在流行的utorrent却基于UDP实现了自己UTP协议(UDP+拥塞控制)，不管使用什么协议，站在I/O的角度来说，限速的控制思路都是一样的。
思路很简单，如下：
1.假设下载或者上传速度上限是m (KB/s),那么发送一个固定的字节数据(假设是n字节)的时间花费是：n/m；
2.假设现在要发送n字节的数据，那么理论所需的时间应该是n/m，而在实际情况下，发送n字节的数据只花费了t秒，那么发送该发送线程就应该睡眠n/m-t秒，这样就基本实现了速度的控制。
代码以TCP为例
速度控制
1 package com.actiontec.net.bandwidth;
2
3 /**
4 *
5 * @author Le
6 *
7 /
8 public class BandwidthLimiter {
9
10 / KB /
11 private static Long KB = 1024l;
12
13 / The smallest count chunk length in bytes /
14 private static Long CHUNK_LENGTH = 1024l;
15
16 / How many bytes will be sent or receive /
            
          
        </div>
        
          <div>
            <a class="read-more button" href="/posts/2012-10-18-bandwidthlimiter/"
              >Read more →</a
            >
          </div>
        
      </article>
    
      <article class="post on-list">
        <h1 class="post-title"><a href="https://lewang.dev/posts/2012-08-22-router-dhcp/">把ubuntu配置成路由器+DHCP</a></h1>
        <div class="post-meta">
          
            <time class="post-date">
              2012-08-22
            </time>

            
              



            
          
          
            <span class="post-author"
              >— Written by Le</span
            >


          
            <span class="post-read-time"
              >— 2 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="https://lewang.dev/tags/blogjava/">#blogjava</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            
              资源： __ __
PC A: Ubuntu 12.04 LTS，两块网卡，分别为eth0和eth1，使用eth0连接 互联网 __ __
PC B: Windows 7, 一块网卡，为eth0 __ __
目标： __ __
使得B通过A连接互联网(IPv4)，即实现A为路由器的功能 __ __
步骤： __ __
PC A: __ __
(0)假设eth0已经配置好，PC可以通过eth0连接互联网 ，配置eth1为，如/etc/network/interface所示 __ __
auto lo __ __
iface lo inet loopback __ __
auto eth0 __ __
iface eth0 inet static __ __
address 172.16.10.65 __ __
gateway 172.16.10.254 __ __
netmask 255.255.0.0 __ __
auto eth1 __ __
            
          
        </div>
        
          <div>
            <a class="read-more button" href="/posts/2012-08-22-router-dhcp/"
              >Read more →</a
            >
          </div>
        
      </article>
    
      <article class="post on-list">
        <h1 class="post-title"><a href="https://lewang.dev/posts/2011-08-15-openlayers-custom/">改造openlayers构建轻量级专用地图信息系统（1）</a></h1>
        <div class="post-meta">
          
            <time class="post-date">
              2011-08-15
            </time>

            
              



            
          
          
            <span class="post-author"
              >— Written by Le</span
            >


          
            <span class="post-read-time"
              >— 1 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="https://lewang.dev/tags/blogjava/">#blogjava</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            
          
        </div>
        
          <div>
            <a class="read-more button" href="/posts/2011-08-15-openlayers-custom/"
              >Read more →</a
            >
          </div>
        
      </article>
    
      <article class="post on-list">
        <h1 class="post-title"><a href="https://lewang.dev/posts/2011-05-11-mark2011/">mark一下学习计划</a></h1>
        <div class="post-meta">
          
            <time class="post-date">
              2011-05-11
            </time>

            
              



            
          
          
            <span class="post-author"
              >— Written by Le</span
            >


          
            <span class="post-read-time"
              >— 1 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="https://lewang.dev/tags/blogjava/">#blogjava</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            
          
        </div>
        
          <div>
            <a class="read-more button" href="/posts/2011-05-11-mark2011/"
              >Read more →</a
            >
          </div>
        
      </article>
    
      <article class="post on-list">
        <h1 class="post-title"><a href="https://lewang.dev/posts/2010-10-11-how_to_do_with_openlayers/">openlayers小结(有参考项目代码)</a></h1>
        <div class="post-meta">
          
            <time class="post-date">
              2010-10-11
            </time>

            
              



            
          
          
            <span class="post-author"
              >— Written by Le</span
            >


          
            <span class="post-read-time"
              >— 5 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="https://lewang.dev/tags/blogjava/">#blogjava</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            
              最近一段时间里，又做了一个跟openlayers相关的项目，但是到目前为止，我对openlayers还是不怎么了解，做东西也只是参考了openlayers的例子，以及自己的一些对openlayers用法的一些猜测。openlayers是一个用js实现的GIS前端框架，我的js目前还是打酱油的水平，要是没有jquery，那就基本写不了几行js代码了。js那是相当的强大，再加上VML\SVG、HTML5以及很多js rich框架等等，感觉js在浏览器端真是无所不能啊
目前这个项目主要功能就是在某城市的地图上标示电缆、光缆、井盖、光缆接头、线杆、建筑物形状和位置、各分级单位的位置以及快速定位等等，要求的功能很简单，而且有前段时间做学校电子地图的一些积累，所以大概在两周左右就做完了这个项目。
感觉openlayers的资料很少，自己也没有太多的时间和精力去读它的源码，目前我都是通过看openlayers自带的那些example和api文档来摸索的，下面简单总结一下openlayers的相关用法，欢迎大家拍砖。
（以下均以OpenLayers-2.9.1为例说明，完整的项目代码在这里下载,地图图片http://121.193.130.68/list/）
1、我只用到了openlayers里面的tilecache接口，其它的例如WMS，google map等等都没有用到。原因是这样的。tilecache接口是用来从tilecache服务器上请求图片的。通过观察google map或者一些其它的地图服务，发现他们都是使用256x256像素大小的图片（也就是tile）来拼接地图的，通常的做法是在gis服务器之间架设一个tilecache服务器，这样，gis生成的图片就可以缓存在tilecahe服务器上，而tilecache服务器仅仅提供简单http服务即可，如果请求的图片(tile)不在tilecache服务器上，那么tilecache服务器会想gis服务器请求，把把gis生成的图片缓存在tilecache服务器上。
通过观察tilecache服务器的目录结构，发现缓存图片按照这样的模具结构存放：{缩放级别}/{横坐标}/{纵坐标}.{图片格式后缀名}，注意这个坐标系的原点在屏幕的左下角。观察到这个规律以后，就可以直接把一张大的地图按照256x256的大小切割，并按照上述的目录结构存放，值得注意的是，每个缩放级别要一定满足2^n的规律，即第一级整个地图大小若为1，那么第二级整个地图大小应为2，第三级应为4，依次类推。这里需要简单修改一下openlayers的tilecache接口代码，文件位于OpenLayers-2.9.1\lib\OpenLayers\Layer\TileCache.js,修改如下：
1 var components = [
2 this.layername,
3 zeroPad(tileZ, 2),
4 //zeroPad(parseInt(tileX / 1000000), 3),
5 //zeroPad((parseInt(tileX / 1000) % 1000), 3),
6 zeroPad((parseInt(tileX) % 1000), 3),
7 //zeroPad(parseInt(tileY / 1000000), 3),
8 //zeroPad((parseInt(tileY / 1000) % 1000), 3),
9 zeroPad((parseInt(tileY) % 1000), 3) + &lsquo;.&rsquo; + this.extension
10 ];
同样，由于只使用tilecache，所以openlayers里面其它的代码也可删除，以减小openlayers的代码量，最后通过自带的python写的工具，压缩openlayers代码即可。
2.地图初次加载的时候，向服务器请求所有数据信息，并在地图上绘出相应的点线面。如何画出建筑的轮廓？用透明的就行了。
a.显示点信息,包括画点、用图标显示点，代码如下。
1 /*
2 * 在地图上画出所有的点并保存点的相关信息到字典中
3 */
4 function initFeaturePoint(vectorLayer,categoryId){
            
          
        </div>
        
          <div>
            <a class="read-more button" href="/posts/2010-10-11-how_to_do_with_openlayers/"
              >Read more →</a
            >
          </div>
        
      </article>
    
      <article class="post on-list">
        <h1 class="post-title"><a href="https://lewang.dev/posts/2010-09-18-snda/">小记盛大校园牛人创新技术大赛</a></h1>
        <div class="post-meta">
          
            <time class="post-date">
              2010-09-18
            </time>

            
              



            
          
          
            <span class="post-author"
              >— Written by Le</span
            >


          
            <span class="post-read-time"
              >— 1 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="https://lewang.dev/tags/blogjava/">#blogjava</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            
          
        </div>
        
          <div>
            <a class="read-more button" href="/posts/2010-09-18-snda/"
              >Read more →</a
            >
          </div>
        
      </article>
    
      <article class="post on-list">
        <h1 class="post-title"><a href="https://lewang.dev/posts/2010-01-11-del-firefox-address/">删除Firefox地址栏下拉列表中的指定记录</a></h1>
        <div class="post-meta">
          
            <time class="post-date">
              2010-01-11
            </time>

            
              



            
          
          
            <span class="post-author"
              >— Written by Le</span
            >


          
            <span class="post-read-time"
              >— 1 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="https://lewang.dev/tags/blogjava/">#blogjava</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            
          
        </div>
        
          <div>
            <a class="read-more button" href="/posts/2010-01-11-del-firefox-address/"
              >Read more →</a
            >
          </div>
        
      </article>
    
      <article class="post on-list">
        <h1 class="post-title"><a href="https://lewang.dev/posts/2009-11-23-libfetion/">用飞信(libfetion)定时发天气预报</a></h1>
        <div class="post-meta">
          
            <time class="post-date">
              2009-11-23
            </time>

            
              



            
          
          
            <span class="post-author"
              >— Written by Le</span
            >


          
            <span class="post-read-time"
              >— 3 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="https://lewang.dev/tags/blogjava/">#blogjava</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            
              什么是libfetion？请访问http://www.libfetion.cn/查看
以下都是在ubuntu下进行的
参考
http://www.libfetion.cn/Docs-dve/Build-LibFx-on-ubuntu.txt
请使用svn客户端下载libfetion-gui的源码
http://libfetion-gui.googlecode.com/svn/
安装开发过程中需要的软件
1 sudo apt-get install libc-dev
2 sudo apt-get install g++
3 sudo apt-get install libcurl4-openssl-dev
在trunk/qt4_src/libfetion/lib目录下找到静态库libfetion_32.a，由于代码打算是用python来写，所以制作了一个动态库libfetion.so
具体步骤如下：
#解压静态库为*.o
ar -x libfetion_32.a
#重新封装为so
g++ -shared -Wall -fPIC -lcurl -pthread *.o -o libfetion.so
#查看so[可选步骤]
nm libfetion.so
发送天气预报的python代码如下，libfetion.so中具体的方法请查看trunk/qt4_src/libfetion/include/libfetion/libfetion.h
1 #!/usr/bin/env python
2 #coding=utf-8
3 #only can run at linux
4 import os
5 import ctypes
6 import urllib2
7
8 #城市代码列表
9 city_codes = {
10 &lsquo;合肥&rsquo; : &lsquo;CHXX0448&rsquo;,
            
          
        </div>
        
          <div>
            <a class="read-more button" href="/posts/2009-11-23-libfetion/"
              >Read more →</a
            >
          </div>
        
      </article>
    
      <article class="post on-list">
        <h1 class="post-title"><a href="https://lewang.dev/posts/2009-07-10-e-campus/">使用Openlayers搭一个E校园(e-campus),类似e都市，6d校园</a></h1>
        <div class="post-meta">
          
            <time class="post-date">
              2009-07-10
            </time>

            
              



            
          
          
            <span class="post-author"
              >— Written by Le</span
            >


          
            <span class="post-read-time"
              >— 1 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="https://lewang.dev/tags/blogjava/">#blogjava</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            
          
        </div>
        
          <div>
            <a class="read-more button" href="/posts/2009-07-10-e-campus/"
              >Read more →</a
            >
          </div>
        
      </article>
    
      <article class="post on-list">
        <h1 class="post-title"><a href="https://lewang.dev/posts/2009-07-09-jquery-msn/">使用jquery+jQuery Cycle Plugin实现MSN首页图片滑动切换效果</a></h1>
        <div class="post-meta">
          
            <time class="post-date">
              2009-07-09
            </time>

            
              



            
          
          
            <span class="post-author"
              >— Written by Le</span
            >


          
            <span class="post-read-time"
              >— 1 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="https://lewang.dev/tags/blogjava/">#blogjava</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            
              初学jquery，觉得很好玩。欢迎拍砖指正
我实现的效果截图
msn的效果截图
全部是js实现的，效果还不错，可以IE7，ff3，Chrome上正常运行,这里是demo[查看]
其中使用了jquery1.3.2[下载]，jquery.cycle.all.js[下载] 所有文件在这里[下载]
1 body {
2 font-family: Arial, Helvetica, sans-serif;
3 font-size: 12px;
4 font-style: normal;
5 line-height: normal;
6 font-weight: normal;
7 }
8 .clear{
9 clear:both;
10 height:0px;
11 }
12 .hot {
13 background-color: #F7F7F7;
14 height: 227px;
15 width: 302px;
16 border: 1px solid #DEDEDE;
17 padding-right:5px;
18 }
19
20 .hot_pic {
21 height: 190px;
22 width: 250px;
23 padding: 0;
            
          
        </div>
        
          <div>
            <a class="read-more button" href="/posts/2009-07-09-jquery-msn/"
              >Read more →</a
            >
          </div>
        
      </article>
    
      <article class="post on-list">
        <h1 class="post-title"><a href="https://lewang.dev/posts/2009-04-08-appenginejavaoverview/">appengine支持Java了</a></h1>
        <div class="post-meta">
          
            <time class="post-date">
              2009-04-08
            </time>

            
              



            
          
          
            <span class="post-author"
              >— Written by Le</span
            >


          
            <span class="post-read-time"
              >— 1 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="https://lewang.dev/tags/blogjava/">#blogjava</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            
              刚刚登录appengine的时候才发现开始支持java了。
上午的时候还没有。
对java的比较熟悉，但是还是喜欢比较简洁的python
http://code.google.com/intl/zh-CN/appengine/docs/java/overview.html
&lt;http://googleappengine.blogspot.com/2009/04/seriously-this-time-new-language- on-app.html&gt;
这是注册试用后google appengine给发的邮件:
Hello,
Thanks for signing up to try Google App Engine for Java! Your account has now
been activated, so you can begin building applications with our new Java
runtime.
Please note that this is still an early look at our support for the Java
language and you may encounter issues during development. We look forward to
hearing your feedback! To learn more, please visit:
            
          
        </div>
        
          <div>
            <a class="read-more button" href="/posts/2009-04-08-appenginejavaoverview/"
              >Read more →</a
            >
          </div>
        
      </article>
    
      <article class="post on-list">
        <h1 class="post-title"><a href="https://lewang.dev/posts/2009-03-25-python-start/">初识python</a></h1>
        <div class="post-meta">
          
            <time class="post-date">
              2009-03-25
            </time>

            
              



            
          
          
            <span class="post-author"
              >— Written by Le</span
            >


          
            <span class="post-read-time"
              >— 1 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="https://lewang.dev/tags/blogjava/">#blogjava</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            
              以教程中的一段小诗开始：
Programming is fun
When the work is done
if you wanna make your work also fun:
use Python!
1 #!/usr/bin/env python
2 #coding=utf-8
3 poem = &lsquo;&rsquo;&rsquo;\
4 Programming is fun
5 When the work is done
6 if you wanna make your work also fun:
7 use Python!
8 &rsquo;&rsquo;&rsquo;
9
10 f = file(&lsquo;c:\\poem.txt&rsquo;,&lsquo;w&rsquo;)
11 f.write(poem)
12 f.close()
哇，下面这段真是解释性的脚本语言的魅力啊，动态生成语句，然后直接解释执行，太灵活了
1 #!/usr/bin/env python
2 #coding=utf-8
3 stm = &lsquo;a = 10&rsquo;
            
          
        </div>
        
          <div>
            <a class="read-more button" href="/posts/2009-03-25-python-start/"
              >Read more →</a
            >
          </div>
        
      </article>
    
      <article class="post on-list">
        <h1 class="post-title"><a href="https://lewang.dev/posts/2009-03-12-gs-china/">中国各城市的经纬度数据(精确到县级城市)</a></h1>
        <div class="post-meta">
          
            <time class="post-date">
              2009-03-12
            </time>

            
              



            
          
          
            <span class="post-author"
              >— Written by Le</span
            >


          
            <span class="post-read-time"
              >— 3 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="https://lewang.dev/tags/blogjava/">#blogjava</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            
              经纬度数据收集自 维北有斗-天文爱好者的乐园
编写这篇博文有几个目的：
首先认识了两个单词
latitude [lat·i·tude || &rsquo;lætɪtuːd /-tjuːd] n. 纬度; 回旋余地, 自由; 纬度地区
longitude [lon·gi·tude || &rsquo;lɑndʒɪtuːd /&rsquo;lɒndʒɪtjuːd] n. 经度; 经线
1.学习dom4j的简单用法
2.做一个方便使用的全国城市经纬度数据库
3.利用google天气api做一个全面的天气预报服务
4.学习用python编写webservice
内容：
1.学习dom4j的简单用法
收集了的经纬度都是按照城市分开的单独的htm文件，我已经处理过为符合html4.0标准的html文件了，即所有的标识都是成对的，这里可以下载这些文件(点击下载经纬度html包)
(1)如何使用dom4j读入xml文档
使用dom4j读入xml文档代码片段
1 File file = new File(&ldquo;G:\\workspace\\test.xml&rdquo;);
2 SAXReader reader = new SAXReader();
3 //根据实际情况设置编码
4 reader.setEncoding(&ldquo;GBK&rdquo;);
5 Document doc = reader.read(files);
6
7 //获得xml文档的根节点
8 Element root = doc.getRootElement();
(2)如何遍历xml文档的所有结点
这样就读入了这个xml文档，并获得了这个xml文档对象的根结点，由于xml文档是一个树形结构，这样就很容易遍历它所有的结点了。
这里根据自己的需要，测试使用了两种遍历方法，一种是根据树的结构编写递归程序，一种就是直接使用循环，还有都dom4j自带的visitor模式访问也很好用，这里有篇参考文档，可以看看(查看)
使用递归遍历
public void visitAll(Element root, Element child){// 枚举所有子节点for ( Iterator i = root.
            
          
        </div>
        
          <div>
            <a class="read-more button" href="/posts/2009-03-12-gs-china/"
              >Read more →</a
            >
          </div>
        
      </article>
    
      <article class="post on-list">
        <h1 class="post-title"><a href="https://lewang.dev/posts/2008-12-02-remotedesktop/">使用Code Blocks(mingw)IDE利用windows api编写远程桌面端口修改程序</a></h1>
        <div class="post-meta">
          
            <time class="post-date">
              2008-12-02
            </time>

            
              



            
          
          
            <span class="post-author"
              >— Written by Le</span
            >


          
            <span class="post-read-time"
              >— 7 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="https://lewang.dev/tags/blogjava/">#blogjava</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            
              办公室通过路由器上网，所以不能直接远程桌面登录到自己计算机上，办公室的人都想在宿舍登录到自己的计算机上工作学习，所以可以简单的将路由器的3389端口(windows远程桌面默认使用3389端口)映射到自己的IP上，同时修改其他人计算机的远程桌面端口，然后再相应的将路由器端口映射到自己的IP上即可。
修改远程桌面端口需要修改注册表中的两个值：
[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp]
&ldquo;PortNumber&rdquo;=dword:00000d3d
[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\Wds\rdpwd\Tds\tcp]
&ldquo;PortNumber&rdquo;=dword:00000d3d
修改两个值，十进制是0-65535，双字十六进制是0x00000000-0x0000FFFF，推荐修改为1024以上。
如何使用windows api编写一个小程序来修改端口呢？接下来就详细的讲讲这个程序应该如何实现，另外在讨论一下如何使用windows api编写简单的windows程序。
下载开源的windows api集成开发环境Code::Blocks (访问Code::Blocks主页)
建议下载集成mingw的CodeBlocks，这样就不用单独下载安装mingw了，如果不知道什么是mingw，赶紧google一下看看吧。配置好开发环境后，就可以开始下一步啦。
启动Code::Blocks，然后新建一个Win32 GUI Project，这样IDE会自动构建一个对话框，而且程序的基本结构也就构造好了。程序的入口就是WinMain函数，然后就可以在这个基础之上编写我们的程序了。
先确定这个程序有几个窗口，然后修改resource.rc文件，资料都可以去MSDN查找
resource.rc
1#include &ldquo;resource.h&rdquo;
2
3DLG_MAIN DIALOGEX 6,6,269,131
4STYLE 0x90CC0800
5CAPTION &ldquo;远程桌面连接端口修改器&rdquo;
6FONT 8,&ldquo;MS Sans Serif&rdquo;,0,0
7BEGIN
8 CONTROL &ldquo;&quot;,IDC_EDT,&ldquo;Edit&rdquo;,0x50010000,72,51,170,13,0x00000200
9 CONTROL &ldquo;十进制(&amp;D)&quot;,IDC_RBN_D,&ldquo;Button&rdquo;,0x50010009,20,81,54,9
10 CONTROL &ldquo;十六进制(&amp;H)&quot;,IDC_RBN_H,&ldquo;Button&rdquo;,0x50010009,90,81,60,9
11 CONTROL &ldquo;二进制(&amp;B)&quot;,IDC_RBN_B,&ldquo;Button&rdquo;,0x50010009,164,81,54,9
12 CONTROL &ldquo;修改(&amp;E)&quot;,IDC_BTN_E,&ldquo;Button&rdquo;,0x50010000,14,107,54,13
13 CONTROL &ldquo;还原(&amp;B)&quot;,IDC_BTN_B,&ldquo;Button&rdquo;,0x50010000,70,107,54,13
14 CONTROL &ldquo;关于(&amp;A)&quot;,IDC_BTN_A,&ldquo;Button&rdquo;,0x50010000,126,107,54,13
15 CONTROL &ldquo;退出(&amp;Q)&quot;,IDC_BTN_Q,&ldquo;Button&rdquo;,0x50010000,198,107,54,13
16 CONTROL &ldquo;远程桌面端口&rdquo;,IDC_STC,&ldquo;Static&rdquo;,0x50000000,16,53,52,9
17 CONTROL &ldquo;基数&rdquo;,IDC_GRP,&ldquo;Button&rdquo;,0x50000007,14,70,228,24
18 CONTROL &ldquo;#1013&rdquo;,IDC_IMG,&ldquo;Static&rdquo;,0x5000020E,0,0,271,44
19END
            
          
        </div>
        
          <div>
            <a class="read-more button" href="/posts/2008-12-02-remotedesktop/"
              >Read more →</a
            >
          </div>
        
      </article>
    
      <article class="post on-list">
        <h1 class="post-title"><a href="https://lewang.dev/posts/2008-09-03-226778/">windows xp sp3 + apache_2.2.8-win32-x86-openssl-0.9.8g.msi + php-5.2.5-Win32.zip + mysql-5.0.45-win32.exe的安装记录</a></h1>
        <div class="post-meta">
          
            <time class="post-date">
              2008-09-03
            </time>

            
              



            
          
          
            <span class="post-author"
              >— Written by Le</span
            >


          
            <span class="post-read-time"
              >— 1 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="https://lewang.dev/tags/blogjava/">#blogjava</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            
              在windows下安装过很多次apache+php+mysql了，每次都没有做一个详细的记录。今天心情不好，所以写个日志。
这里的安装方法都是参考于php的官方安装文档，所以直接查看它的官方文档就可以安装了
主要参考这两个手册：php-5中文手册和php-5.2.5-Win32.zip 软件包中的install.txt
首先请准备以下软件(ps：我的这些软件都是很久前下载的，现在已经有新版本了，不过安装方法都是一样的)
点击下载apache
点击下载php-5
点击下载mysql
下面开始安装(安装顺序无所谓)和配置，不要一味的照搬，自己结合自己的情况看看
===&gt; 软件的安装
1)安装apache_2.2.8-win32-x86-openssl-0.9.8g.msi
=&gt;安装方法：直接运行安装程序安装
2）安装php-5
=&gt; 解压下载的安装包，将解压后的文件目录名改为php，以方便后面的配置
=&gt;进入刚刚改名为php的目录，找到php.ini-recommended文件，将该文件改名为php.ini
=&gt;将名为php的目录整个拷贝了任意一个盘(c，d……)的根目录下，以方便后面的配置,我将php整个目录拷贝到了D盘根目录下，即d:\php
3）安装mysql
=&gt;安装方法：直接运行安装程序安装
=&gt;配置mysql：安装完mysql后，程序会自动弹出配置窗口，直接点击&quot;next&quot;&hellip;&hellip;.，然后设置好相应的字符编码和root用户的密码等
这样程序就安装完成了，下面分析这些软件应该如何配置才能工作。
===&gt; 服务器的配置(这里只是简单讲讲如何让服务器正常工作，想要知道更多的配置，请自行查看软件配置文档)
1）配置php(先前我将解压后的php包整个拷贝到了d目录下d:\php)
=&gt;进入php所在目录，目录结构基本是这个样子
点击展开
d:\php
|
+&ndash;dev
| |
| |-php5ts.lib
|
+&ndash;ext &ndash; extension DLLs for PHP
| |
| |-php_bz2.dll
| |
| |-php_cpdf.dll
| |
| |-..
|
+&ndash;extras
| |
| +&ndash;mibs &ndash; support files for SNMP
| |
| +&ndash;openssl &ndash; support files for Openssl
            
          
        </div>
        
          <div>
            <a class="read-more button" href="/posts/2008-09-03-226778/"
              >Read more →</a
            >
          </div>
        
      </article>
    
      <article class="post on-list">
        <h1 class="post-title"><a href="https://lewang.dev/posts/2008-09-02-226416/">使用正则表达式来限制输入框中只能输入数字</a></h1>
        <div class="post-meta">
          
            <time class="post-date">
              2008-09-02
            </time>

            
              



            
          
          
            <span class="post-author"
              >— Written by Le</span
            >


          
            <span class="post-read-time"
              >— 1 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="https://lewang.dev/tags/blogjava/">#blogjava</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            
          
        </div>
        
          <div>
            <a class="read-more button" href="/posts/2008-09-02-226416/"
              >Read more →</a
            >
          </div>
        
      </article>
    
      <article class="post on-list">
        <h1 class="post-title"><a href="https://lewang.dev/posts/2008-05-06-template-canvas/">也扯打造个性BlogJava模板</a></h1>
        <div class="post-meta">
          
            <time class="post-date">
              2008-05-06
            </time>

            
              



            
          
          
            <span class="post-author"
              >— Written by Le</span
            >


          
            <span class="post-read-time"
              >— 1 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="https://lewang.dev/tags/blogjava/">#blogjava</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            
          
        </div>
        
          <div>
            <a class="read-more button" href="/posts/2008-05-06-template-canvas/"
              >Read more →</a
            >
          </div>
        
      </article>
    
      <article class="post on-list">
        <h1 class="post-title"><a href="https://lewang.dev/posts/2008-05-06-jni-free-ictclas/">打造ICTCLAS JNI For Java</a></h1>
        <div class="post-meta">
          
            <time class="post-date">
              2008-05-06
            </time>

            
              



            
          
          
            <span class="post-author"
              >— Written by Le</span
            >


          
            <span class="post-read-time"
              >— 2 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="https://lewang.dev/tags/blogjava/">#blogjava</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            
              声明:ICTCLAS以及我修改ICTCLAS JNI For Java的版权均归原作者所有，未经原作者允许，请勿作其它商业用途
首先下载ICTCLAS Beta版本公开源代码:点击下载
我使用的是Visual studio 2005开发环境，源码使用VC6开发的，现在把这个工程转移到VS2005下。我使用的方法比较笨，基本上是属于体力+暴力型的，不过自己觉得爽就可以了
在VS2005里新建Win32项目FREEICTCLAS,在application Settings选项里选中Dll和Empty Project,然后新建以下过滤器(New Filter)，并且将原项目的源码及其目录结构copy到现在的win32项目的目录下(过滤器和项目目录示意图)
示意图(点击前面+号展开)
| |
这样这个win32工程基本就建完了。
观察ICTCLAS源代码后编写以下带有native声明的方法的java类，只实现了头两个方法，第三个暂未实现，与ICTCLAS接口基本保持一致
代码如下:
FreeICTCLAS.java(点击+展开)
public class FreeICTCLAS
{
///*
* 初始化设置取值都是0,1,2
*/
public native boolean FreeICTCLAS_Init(int OperateType, int OutputFormat);
///*
* 与Free版本中有所不同,返回值为结果
/
public native String FreeICTCLAS_ParagraphProcess(String sParagraph);
/**//
* 与Free版本中基本保持一致
*/
public native boolean FreeICTCLAS_FileProcess(String sSourceFilename, String sResultFilename);
public static void main(String[] args)
{
System.loadLibrary(&ldquo;FreeICTCLAS&rdquo;);
FreeICTCLAS test = new FreeICTCLAS();
test.FreeICTCLAS_Init(0,0);
String str = test.
            
          
        </div>
        
          <div>
            <a class="read-more button" href="/posts/2008-05-06-jni-free-ictclas/"
              >Read more →</a
            >
          </div>
        
      </article>
    
      <article class="post on-list">
        <h1 class="post-title"><a href="https://lewang.dev/posts/2008-05-05-jni-hello-world/">JNI技术入门之Hello World篇</a></h1>
        <div class="post-meta">
          
            <time class="post-date">
              2008-05-05
            </time>

            
              



            
          
          
            <span class="post-author"
              >— Written by Le</span
            >


          
            <span class="post-read-time"
              >— 1 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="https://lewang.dev/tags/blogjava/">#blogjava</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            
              毕业设计是做一个中文的XML信息检索系统。当时选题的时候真的是不知道天高地厚，选了这么一个难题，但是毕竟已经选了，那就不要畏缩了！查阅了信息检索的相关资料后，遇到了一个很棘手的问题——中文如何分词？这是个大问题，不知道如何入手。于是查查资料看看有没有现成中文分词系统拿来用，这一找就找到了中科院的ICTCLAS。网上已经有很多的已经封装好了的ICTCLAS.dll，由于毕设打算用Java技术打造一个系统原型，那就需要通过JNI技术来调用ICTCLAS.dll。其实这也已经有人做好了，但是，我还是想知道JNI的个什么样的东西，还想知道如何正确的使用这个技术。
已经习惯了从Hello World开始。
我使用的是JDK_1.6.0和Visual studio 2005，使用Visual studio 2005生成可供Java调用的dll需要做以下设置：
在Visual studio 2005的菜单Tools\options\Projects and Solutions\VC++ Directories，添加JDK安装目录下inlcude和include/win32目录,如下图所示
设置图(点击前面+号展开)
编写带有native声明的方法的java类，代码如下
JniTest.java(点击前面+号展开)
public class JniTest{/*静态块装载JniTest.dll，不用写出后缀名.dll,因为不同平台，系统会自动识别*/static {System.loadLibrary(&quot;JniTest&quot;);}/*native方法申明,不要写具体的实现*/public native void sayHello();}然后在命令行输入Javac JniTest.java编译JniTest.java
生成JniTest.class文件后，再使用javah JniTest生成JniTest.h，代码如下
JniTest.h(点击前面+号展开)
/* DO NOT EDIT THIS FILE - it is machine generated */#include &lt;jni.h&gt;/* Header for class JniTest */#ifndef _Included_JniTest#define _Included_JniTest#ifdef __cplusplusextern &quot;C&quot; {#endif/** Class: JniTest* Method: sayHello* Signature: ()V*/JNIEXPORT void JNICALL Java_JniTest_sayHello(JNIEnv *, jobject);#ifdef __cplusplus}#endif#endif在Visual studio 2005里新建项目Win32 project，在弹出的对话框中点击application setting，然后再选上dll和Empty project。 接着在项目中添加JniTest.
            
          
        </div>
        
          <div>
            <a class="read-more button" href="/posts/2008-05-05-jni-hello-world/"
              >Read more →</a
            >
          </div>
        
      </article>
    
    <div class="pagination">
  <div class="pagination__buttons">
    
      <span class="button previous">
        <a href="/tags/blogjava/page/2/">
          <span class="button__icon">←</span>
          <span class="button__text">Newer posts</span>
        </a>
      </span>
    
    
  </div>
</div>

  </div>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <a
  href="https://lewang.dev"
  class="logo"
  style="text-decoration: none;"
>
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367" />
</svg>
</span>
    <span class="logo__text"
      >小碼哥</span
    >
    <span class="logo__cursor"></span>
  
</a>

      <div class="copyright">
        <span>© 2023 Powered by <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a></span>
        <span><a href="https://github.com/panr/hugo-theme-hello-friend" target="_blank">Theme</a> made by <a href="https://github.com/panr" target="_blank">panr</a></span>
      </div>
    
  </div>
</footer>





<script type="text/javascript" src="/bundle.min.js"></script>


      
    </div>

    
      
<script async src="https://www.googletagmanager.com/gtag/js?id=G-12QS222X0Z"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-12QS222X0Z', { 'anonymize_ip': false });
}
</script>

    
  </body>
</html>
